import{j as e,b as i,r as d,p as L,a as F,L as U,f as C,e as T}from"./index-06c6c1f5.js";import{d as B}from"./debounce-1252dfff.js";import{F as $,a as N}from"./PopUpModal-a427d51e.js";import{a as D,G as y}from"./index.esm-c4f99d41.js";import{S as q}from"./ScrollTop-7e4dffaf.js";import{H as E}from"./Header-49b89639.js";import{a as I}from"./alertMessage-026c37b5.js";import{M as G}from"./MetaData-baa07fc2.js";import"./iconBase-51491e03.js";import"./index.esm-a526b47c.js";function v({onClick:n}){return e.jsx("div",{className:"sticky bottom-0 z-10 bg-gradient-to-b from-white/10 from-10% to-white to-40% pb-3 pt-8",children:e.jsx("button",{type:"button",className:"w-full rounded-lg bg-primary py-3 font-bold text-white hover:bg-opacity-80 focus:bg-opacity-80",onClick:n,children:"이대로 저장할래요"})})}v.propTypes={onClick:i.func};let M=[{name:"서울 서대문구",tag:"자주 방문한"},{name:"서울 마포구",tag:"함께 추천하는"},{name:"서울 강남구",tag:"함께 추천하는"},{name:"경기 가평군",tag:"함께 추천하는"},{name:"경기 성남시",tag:"함께 추천하는"},{name:"경기 수원시",tag:"함께 추천하는"},{name:"인천 강화군",tag:"함께 추천하는"},{name:"대구 중구",tag:"함께 추천하는"},{name:"충남 태안군",tag:"자주 검색한"},{name:"전남 목포시",tag:"자주 검색한"},{name:"전남 여수시",tag:"자주 검색한"}];const P=[{name:"제주 제주시",image:"/region/01-jeju-si.png"},{name:"경북 경주시",image:"/region/02-gyeongju-si.png"},{name:"전북 전주시",image:"/region/03-jeonju-si.png"},{name:"서울 마포구",image:"/region/04-mapo-gu.png"},{name:"서울 종로구",image:"/region/05-jongno-gu.png"},{name:"부산 해운대구",image:"/region/06-haeundae-gu.png"},{name:"강원 춘천시",image:"/region/07-chuncheon-si.png"},{name:"강원 강릉시",image:"/region/08-gangneung-si.png"},{name:"경기 수원시",image:"/region/09-suwon-si.png"},{name:"전남 순천시",image:"/region/10-suncheon-si.png"},{name:"경북 포항시",image:"/region/11-pohang-si.png"},{name:"경남 거제시",image:"/region/12-geoje-si.png"},{name:"충남 천안시",image:"/region/13-cheonan-si.png"},{name:"충북 청주시",image:"/region/14-cheongju-si.png"},{name:"서울 강남구",image:"/region/15-gangnam-gu.png"},{name:"강원 속초시",image:"/region/16-sokcho-si.png"},{name:"전남 여수시",image:"/region/17-yeosu-si.png"},{name:"경기 남양주시",image:"/region/18-namyangju-si.png"},{name:"경기 파주시",image:"/region/19-paju-si.png"},{name:"경기 성남시",image:"/region/20-seongnam-si.png"},{name:"부산 수영구",image:"/region/21-suyeong-gu.png"},{name:"서울 광진구",image:"/region/22-gwangjin-gu.png"},{name:"전북 군산시",image:"/region/23-gunsan-si.png"}],z=["서울 종로구","서울 중구","서울 용산구","서울 성동구","서울 광진구","서울 동대문구","서울 중랑구","서울 성북구","서울 강북구","서울 도봉구","서울 노원구","서울 은평구","서울 서대문구","서울 마포구","서울 양천구","서울 강서구","서울 구로구","서울 금천구","서울 영등포구","서울 동작구","서울 관악구","서울 서초구","서울 강남구","서울 송파구","서울 강동구","부산 중구","부산 서구","부산 동구","부산 영도구","부산 부산진구","부산 동래구","부산 남구","부산 북구","부산 해운대구","부산 사하구","부산 금정구","부산 강서구","부산 연제구","부산 수영구","부산 사상구","부산 기장군","대구 중구","대구 동구","대구 서구","대구 남구","대구 북구","대구 수성구","대구 달서구","대구 달성군","인천 중구","인천 동구","인천 남구","인천 미추홀구","인천 연수구","인천 남동구","인천 부평구","인천 계양구","인천 서구","인천 강화군","인천 옹진군","광주 동구","광주 서구","광주 남구","광주 북구","광주 광산구","대전 동구","대전 중구","대전 서구","대전 유성구","대전 대덕구","울산 중구","울산 남구","울산 동구","울산 북구","울산 울주군","세종시","경기 수원시","경기 성남시","경기 고양시","경기 용인시","경기 부천시","경기 안산시","경기 안양시","경기 남양주시","경기 화성시","경기 평택시","경기 의정부시","경기 시흥시","경기 파주시","경기 광명시","경기 김포시","경기 군포시","경기 광주시","경기 이천시","경기 양주시","경기 오산시","경기 구리시","경기 안성시","경기 포천시","경기 의왕시","경기 하남시","경기 여주시","경기 여주군","경기 양평군","경기 동두천시","경기 과천시","경기 가평군","경기 연천군","강원 춘천시","강원 원주시","강원 강릉시","강원 동해시","강원 태백시","강원 속초시","강원 삼척시","강원 홍천군","강원 횡성군","강원 영월군","강원 평창군","강원 정선군","강원 철원군","강원 화천군","강원 양구군","강원 인제군","강원 고성군","강원 양양군","충북 청주시","충북 충주시","충북 제천시","충북 청원군","충북 보은군","충북 옥천군","충북 영동군","충북 진천군","충북 괴산군","충북 음성군","충북 단양군","충북 증평군","충남 천안시","충남 공주시","충남 보령시","충남 아산시","충남 서산시","충남 논산시","충남 계룡시","충남 당진시","충남 당진군","충남 금산군","충남 연기군","충남 부여군","충남 서천군","충남 청양군","충남 홍성군","충남 예산군","충남 태안군","전북 전주시","전북 군산시","전북 익산시","전북 정읍시","전북 남원시","전북 김제시","전북 완주군","전북 진안군","전북 무주군","전북 장수군","전북 임실군","전북 순창군","전북 고창군","전북 부안군","전남 목포시","전남 여수시","전남 순천시","전남 나주시","전남 광양시","전남 담양군","전남 곡성군","전남 구례군","전남 고흥군","전남 보성군","전남 화순군","전남 장흥군","전남 강진군","전남 해남군","전남 영암군","전남 무안군","전남 함평군","전남 영광군","전남 장성군","전남 완도군","전남 진도군","전남 신안군","경북 포항시","경북 경주시","경북 김천시","경북 안동시","경북 구미시","경북 영주시","경북 영천시","경북 상주시","경북 문경시","경북 경산시","경북 군위군","경북 의성군","경북 청송군","경북 영양군","경북 영덕군","경북 청도군","경북 고령군","경북 성주군","경북 칠곡군","경북 예천군","경북 봉화군","경북 울진군","경북 울릉군","경남 창원시","경남 마산시","경남 진주시","경남 진해시","경남 통영시","경남 사천시","경남 김해시","경남 밀양시","경남 거제시","경남 양산시","경남 의령군","경남 함안군","경남 창녕군","경남 고성군","경남 남해군","경남 하동군","경남 산청군","경남 함양군","경남 거창군","경남 합천군","제주 제주시","제주 서귀포시","제주 북제주군","제주 남제주군"];function k({...n}){const o=n.checkedRegionList,s=n.isFocusSearchBar,a=d.useRef(""),[r,t]=d.useState(!1),[l,m]=d.useState([]),h=()=>{a.current.value?(t(!0),m(z.filter(c=>c.includes(a.current.value)))):(t(!1),m([]))};function u(){a.current.value="",t(!1),m([])}const x=()=>{u()},b=()=>{n.onFocus(!1),u()},f=c=>{let p=c.target.closest("li").querySelector("h4").innerText;n.onUpdate(o.find(j=>j===p)?o.filter(j=>j!==p):[...o,p]),n.onFocus(!1),u()},g=()=>{s===!1&&n.onFocus(!0)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-3 flex items-center gap-1",children:[!s||e.jsx("button",{type:"button",onClick:b,className:"group ml-1 px-1 text-4xl","aria-label":"뒤로 가기",children:e.jsx(D,{className:"hover:text-primary group-focus:text-primary"})}),e.jsxs("div",{className:`flex grow items-center justify-between gap-2 rounded-xl border border-black px-4 py-3 focus:outline-none ${!s||"border-2"}`,children:[e.jsx("label",{htmlFor:"searchRegion",children:e.jsx($,{})}),e.jsx("input",{type:"text",id:"searchRegion",placeholder:"원하는 지역을 검색해 보세요",className:"grow appearance-none text-base focus:outline-none",onFocus:g,onChange:B(c=>h(c.target.value),500),ref:a,role:"searchbox"}),!s||e.jsx("button",{type:"button",onClick:x,"aria-label":"텍스트 삭제하기",className:"group",children:e.jsx(y,{className:"text-2xl hover:text-primary group-focus:text-primary"})})]})]}),e.jsxs("div",{className:`mt-28 flex flex-col items-center ${!r||"hidden"} ${s||"hidden"}`,children:[e.jsx("img",{src:"/search-guide.png",alt:"현재 화면에 표시되는 정보가 없습니다.",className:"mb-2"}),e.jsx("p",{className:"text-lg font-bold",children:"지역명을 검색해서"}),e.jsx("p",{className:"text-lg font-bold",children:"관심지역으로 설정할 수 있어요!"}),e.jsx("p",{className:"mt-2 text-sm font-semibold text-gray-500",children:"예) 서울, 해운대구, 경주시 등"})]}),e.jsx("div",{className:"mt-4",children:l.toSorted().map((c,p)=>!r||e.jsxs("li",{className:"mt-2 flex items-center justify-between gap-2 rounded-lg px-4 py-2 text-lg",children:[e.jsx(N,{className:"mr-2 inline-block text-primary"}),e.jsxs("div",{className:"flex grow items-center justify-start",children:[e.jsx("h4",{className:"font-bold",children:c}),!o.includes(c)||e.jsx("span",{className:"mx-2 rounded-lg bg-gray-600 p-1 text-xs text-white",children:"내 관심지역"})]}),e.jsx("button",{type:"button",className:`h-5 w-5 bg-contain bg-no-repeat ${o.includes(c)?"hover:bg-checked-hover bg-checked":"hover:bg-check-hover bg-check"}`,onClick:f})]},p))})]})}k.propTypes={checkedRegionList:i.array,isFocusSearchBar:i.bool,onFocus:i.func,onUpdate:i.func};function R({...n}){const o=n.checkedRegionList,s=a=>{let r=a.target.closest("li").querySelector("h4").innerText;n.onUpdate(o.filter(t=>t!==r))};return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 flex items-end justify-center",children:[e.jsxs("h3",{className:"grow text-lg font-bold",children:["내 관심지역 ",e.jsx("span",{className:"text-primary",children:o.length})]}),e.jsx("button",{type:"button",className:"text-sm font-semibold text-gray-700 hover:text-primary",onClick:n.onRemove,children:"전체 삭제"})]}),e.jsx("ul",{children:o.map((a,r)=>e.jsxs("li",{className:"my-1 flex items-center justify-between rounded-lg border border-primary px-4 py-2",children:[e.jsx(N,{className:"mr-2 inline-block text-primary"}),e.jsx("h4",{className:"grow text-base font-bold",children:a}),e.jsx("button",{type:"button",onClick:s,"aria-label":"항목 삭제",className:"group",children:e.jsx(y,{className:"text-xl hover:text-primary group-focus:text-primary"})})]},r))})]})}R.propTypes={checkedRegionList:i.array,onUpdate:i.func,onRemove:i.func};function S({...n}){var r;const o=(r=n.userData)==null?void 0:r.nickname,s=n.checkedRegionList,a=t=>{let l=t.target.closest("li").querySelector("h4").innerText;n.onUpdate(s.find(m=>m===l)?s.filter(m=>m!==l):[...s,l])};return e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold",children:"이런 지역 어때요?"}),e.jsxs("p",{className:"my-2 mb-4",children:[e.jsx("span",{className:"font-extrabold text-secondary decoration-secondary hover:underline",children:o})," 님이 좋아하실 것 같아요"]}),e.jsx("ul",{className:"grid grid-cols-2 gap-3",children:M.map((t,l)=>e.jsx("li",{className:`group relative rounded-lg rounded-xl ${s.includes(t.name)?"bg-sky-100 shadow-md hover:bg-opacity-50":"bg-neutral-100 hover:bg-opacity-80 hover:shadow-md"}`,"aria-label":t.name+"를 관심 지역에 추가",children:e.jsxs("label",{htmlFor:"suggest "+t.name,className:"block cursor-pointer p-4",children:[e.jsx("p",{className:`text-xs text-gray-500 ${s.includes(t.name)?"font-bold":"font-semibold "}`,children:t.tag}),e.jsx("h4",{className:`${s.includes(t.name)?"font-extrabold":"font-bold "}`,children:t.name}),e.jsx("span",{className:`absolute right-4 top-1/2 h-[18px] w-[18px] -translate-y-1/2 ${s.includes(t.name)?"group-hover:bg-checked-hover bg-checked":"group-hover:bg-check-hover bg-check"}`}),e.jsx("input",{type:"checkbox",className:"sr-only",id:"suggest "+t.name,onChange:a})]})},l))})]})}S.propTypes={checkedRegionList:i.array,userData:i.object,onUpdate:i.func};function w({...n}){const o=n.checkedRegionList,s=a=>{let r=a.target.closest("li").querySelector("h4").innerText;n.onUpdate(o.find(t=>t===r)?o.filter(t=>t!==r):[...o,r])};return e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-lg font-bold",children:"요즘 많이 찾아봐요"}),e.jsx("ul",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:P.map((a,r)=>e.jsx("li",{className:`group relative rounded-lg ${o.includes(a.name)?"bg-sky-100 shadow-md hover:bg-opacity-50":"bg-neutral-100 hover:bg-opacity-80 hover:shadow-md"}`,"aria-label":a.name+"를 관심 지역에 추가",children:e.jsxs("label",{htmlFor:"popular "+a.name,className:"block flex cursor-pointer flex-col items-center p-4",children:[e.jsx("img",{src:a.image,alt:"",className:"h-12 w-12 rounded-full"}),e.jsx("h4",{className:`mx-auto text-sm ${o.includes(a.name)?"font-bold":"font-semibold "}`,children:a.name}),e.jsx("span",{className:`absolute right-2 top-0 h-[18px] w-[18px] translate-y-1/2 ${o.includes(a.name)?"group-hover:bg-checked-hover bg-checked":"group-hover:bg-check-hover bg-check"}`}),e.jsx("input",{type:"checkbox",className:"sr-only",id:"popular "+a.name,onChange:s})]})},r))})]})}w.propTypes={checkedRegionList:i.array,onUpdate:i.func};function Z(){const n=L.authStore.model,o=F(),[s,a]=d.useState([]),[r,t]=d.useState(!1),[l,m]=d.useState();d.useEffect(()=>{async function g(){let c=await C("users","",n.id);m(c),a(c.regions)}g()},[]);const h=g=>{a(g)},u=()=>{a([])},x=g=>{t(g)},b=()=>{T("users",n.id,{regions:s}),I("관심지역이 설정되었습니다."),o("/")},f={title:"Best Place - 관심지역",description:"피드에 표시할 리뷰에 지역 필터링을 추가합니다",keywords:["지역","전국","지방"],image:"public/logo.svg"};return e.jsxs(e.Fragment,{children:[e.jsx(G,{props:f}),e.jsx(q,{}),e.jsx(E,{}),e.jsxs("main",{className:"mx-auto max-w-3xl px-3",children:[e.jsxs("div",{className:"sticky top-[-4px] z-10 bg-gradient-to-b from-white from-80% to-white/10 to-90% pb-8",children:[r||e.jsxs("div",{children:[e.jsx(U,{to:"/",className:"float-right mr-1 group",title:"설정 닫기",children:e.jsx(y,{className:"mt-3 text-3xl hover:text-primary group-focus:text-primary"})}),e.jsx("h2",{className:"mb-3 pt-8 text-2xl font-bold",children:"관심지역을 설정해주세요!"})]}),e.jsx(k,{checkedRegionList:s,isFocusSearchBar:r,onFocus:x,onUpdate:h})]}),r||e.jsxs("div",{className:"flex flex-col gap-8 px-1",children:[e.jsx(R,{checkedRegionList:s,onUpdate:h,onRemove:u}),e.jsx(S,{userData:l,checkedRegionList:s,onUpdate:h}),e.jsx(w,{checkedRegionList:s,onUpdate:h}),e.jsx(v,{onClick:b})]})]})]})}export{Z as default};
