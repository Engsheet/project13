import{p as d,j as e,S as x,L as m}from"./index-06c6c1f5.js";import{u as h,a as f}from"./region-43499ee0.js";import{g}from"./getPbImageURL-ebcdbcbf.js";import{S as u}from"./ScrollTop-7e4dffaf.js";import{N as j}from"./NoResult-cde6063e.js";import{M as w}from"./MetaData-baa07fc2.js";import"./useBaseQuery-d5fe4309.js";import"./index-ea9f9059.js";import"./index-0b99c69c.js";import"./middleware-763781cb.js";function k(){const i=d.authStore.model.id,{data:a,isLoading:l,hasNextPage:r,fetchNextPage:o}=h("reviews",{filter:`writer.id='${i}'`}),t=a==null?void 0:a.flatMap(s=>s.items),n=f(async(s,c)=>{c.unobserve(s.target),r&&!l&&o()},{threshold:1});if(l)return e.jsx(x,{});const p={title:"Best Place - 리뷰",description:"맛집 방문 후기",keywords:["맛집","리뷰","기록"],image:"/logo.svg"};return t.length!==0?e.jsxs(e.Fragment,{children:[e.jsx(w,{props:p}),e.jsx(u,{}),e.jsx("h2",{className:"sr-only",children:"나의 리뷰 페이지"}),e.jsx("ul",{className:"my-4 mb-[194px] grid grid-cols-2 gap-1.5 sm:mb-[174px] sm:grid-cols-3",children:t==null?void 0:t.map(s=>e.jsx(m,{to:`/user-review-list/${i}`,state:s.id,children:e.jsx("li",{children:e.jsxs("figure",{className:"relative",children:[e.jsx("img",{src:g(s,s.photos[0]),alt:`나의 ${s.expand.place.title} 리뷰`,className:"aspect-square min-h-[180px] w-full rounded-lg object-cover"}),e.jsxs("figcaption",{className:"absolute bottom-0 flex w-full flex-col rounded-b-lg bg-black bg-opacity-50 p-2 text-white",children:[e.jsx("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap text-sm font-light",title:s.expand.place.address,children:s.expand.place.address}),e.jsx("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap",title:s.expand.place.title,children:s.expand.place.title})]})]})})},s.id))}),e.jsx("div",{ref:n,className:"h-[1px]"})]}):e.jsx(j,{title:"회원님이 작성한 리뷰가 없어요.",contents:"방문한 장소의 리뷰를 추가해보세요!"})}export{k as default};
