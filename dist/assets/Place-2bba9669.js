import{d as f,j as t,S as h}from"./index-06c6c1f5.js";import{F as u,S as j}from"./ScrollTopButton-3739b1c5.js";import{a as g,F as i}from"./FeedItem-6bacd1df.js";import{N}from"./NoResult-cde6063e.js";import{M as $}from"./MetaData-baa07fc2.js";import{S as v}from"./ScrollTop-7e4dffaf.js";import{u as y,a as F}from"./region-43499ee0.js";import{u as b}from"./useFetchRecord-61c5f7d8.js";import{H as w}from"./Header-49b89639.js";import"./index.esm-bcf7d115.js";import"./iconBase-51491e03.js";import"./getDate-b10b504c.js";import"./getPbImageURL-ebcdbcbf.js";import"./FeedItemHeader-aa1df1b8.js";import"./useFetchList-8f652331.js";import"./useQuery-7f8ad36b.js";import"./useBaseQuery-d5fe4309.js";import"./index-ea9f9059.js";import"./follow-af2673d1.js";import"./index-0b99c69c.js";import"./middleware-763781cb.js";import"./debounce-1252dfff.js";import"./index.esm-e904fcbc.js";import"./index.esm-1ff9b723.js";import"./swiper-a857a5c8.js";import"./PopUpModal-a427d51e.js";import"./index.esm-a526b47c.js";function Z(){const{recordId:p,placeId:l}=f(),{data:e}=b("reviews",p,{expand:"place,writer,reservation"}),{data:r,isLoading:a,hasNextPage:m,fetchNextPage:n}=y("reviews",{filter:`place.id='${l}'`}),o=(r==null?void 0:r.flatMap(s=>s.items).filter(s=>s.id!==(e==null?void 0:e.id)))||null,c=F(async(s,x)=>{x.unobserve(s.target),m&&!a&&n()},{threshold:1});if(a)return t.jsx(h,{});const d={title:`Best Place - ${e.expand.place.title}`,description:`${e.expand.place.address}에 위치한 ${e.expand.place.category}, ${e.expand.place.title}`,keywords:[`${e.expand.place.title}`,`${e.expand.place.category}`,`${e.expand.place.address}`,`${e.keywords}`],image:`${e.photos}`};return t.jsxs("div",{className:"relative min-h-screen pb-28",children:[t.jsx($,{props:d}),t.jsx(v,{}),t.jsx(w,{}),t.jsx("header",{className:"sticky top-0 z-10 rounded-none bg-gray-50 shadow-[0_6px_6px_-2px_rgba(0,0,0,0.1)]",children:e&&t.jsx(g,{item:e,isPlace:!0})}),t.jsxs("main",{className:"mx-auto max-w-3xl px-3",children:[t.jsx("h2",{className:"sr-only",children:"플레이스 페이지"}),e&&t.jsx(i,{item:e,isPlace:!0,hiddenFooter:!0},e==null?void 0:e.id),t.jsx("div",{className:"border-t-2 pt-4 text-lg font-semibold",children:"이 장소의 다른 리뷰"}),t.jsx("ul",{className:"flex flex-col gap-1 bg-gray-50",children:o.length?o.map(s=>t.jsx("li",{children:t.jsx(i,{item:s,isPlace:!0,hiddenFooter:!0})},s.id)):t.jsx(N,{title:"다른 리뷰가 없습니다.",contents:"이 장소를 방문하시고 리뷰를 추가해 보세요."})}),t.jsx("div",{ref:c,className:"h-[1px]"})]}),t.jsx(u,{}),t.jsx("div",{className:"fixed bottom-4 right-4 z-10 flex flex-col gap-3 text-white",children:t.jsx(j,{})})]})}export{Z as default};
